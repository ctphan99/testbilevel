
% Error in the inner optimization solution $y^*$ and $\lambda^*$ can lead to incorrect construction of the penalty function, which later causes error in the gradient approximation. Now we bound the error propagation here.

% Let us denote the approximate solution to the inner optimization problem by $y'$ and $\lambda^*'$, which are $\alpha^2$ close to the optimal solution $y^*$ and $\lambda^*$, i.e., $\norm{y' - y^*} \leq \alpha^2$ and $\norm{\lambda^*' - \lambda^*} \leq \alpha^2$.
% Using the approximate solution $y'$ and $\lambda^*'$ to construct the penalty function:
% \begin{align}
%     \mathcal{L}_{\lambda^*',\alpha}(x,y) = f(x,y) + \alpha_1 (g(x,y) + (\lambda^*')^\top h(x,y) - g(x,y')) + \frac{\alpha_2}{2} \norm{h_{\mathcal{I}(x,y)}}^2
% \end{align}
% which can also be used to find the optimal solution to the peanlty function defined on $y'$ and $\lambda^*'$:
% \begin{align}
%     y'_{\lambda^*,\alpha} \coloneqq \arg\min_y \mathcal{L}_{\lambda^*',\alpha}(x,y)
% \end{align}
% By the same argument in \cref{thm:solution-bound}, we also get:
% \begin{align}
%     & \norm{y'_{\lambda^*,\alpha} - y'} \leq O(\alpha_1^{-1}) = O(\alpha^{-2}), & \norm{h_\mathcal{I}(x,y'_{\lambda^*,\alpha})} \leq O(\frac{1}{\sqrt{\alpha_1 \alpha_2}}) = O(\alpha^{-3/2})
% \end{align}

% Combining this with our bound $\norm{y^*_{\lambda^*,\alpha} - y^*} \leq O(\alpha^{-2})$ and the accuracy of the primal solution $\norm{y' - y^*} \leq \alpha^2$, we get:
% \begin{align}
%     \norm{y'_{\lambda^*,\alpha} - y^*} \leq O(\alpha^{-2})
% \end{align}

% We can write the inexact gradient using the inexact inner problem solutions by:
% \begin{align}
%     & \nabla_x \mathcal{L}_{\lambda^*',\alpha}(x,y'_{\lambda^*',\alpha}) = \nabla_x f(x,y'_{\lambda^*',\alpha}) + \alpha_1 (\nabla_x g(x,y'_{\lambda^*',\alpha}) + (\lambda^*')^\top \nabla_x h(x,y'_{\lambda^*',\alpha}) - \nabla_x g(x,y') - (\lambda^*')^\top \nabla_x h(x,y')) \nonumber \\
%     & \quad \quad \quad + {\alpha_2} \nabla_x h_{\mathcal{I}}(x,y'_{\lambda^*',\alpha})^\top h_{\mathcal{I}}(x,y'_{\lambda^*',\alpha})
% \end{align}

% We are now ready to bound the difference between the inexact gradient estimated from the inexact solutions, and the inexact gradient estimated from the exact solutions:
% \begin{align}
%     & \nabla_x \mathcal{L}_{\lambda^*',\alpha}(x,y^*_{\lambda^*,\alpha}) - \nabla_x \mathcal{L}_{\lambda^*,\alpha}(x,y'_{\lambda^*,\alpha}) \nonumber \\
%     = & \nabla_x f(x,y^*_{\lambda^*,\alpha}) - \nabla_x f(x,y'_{\lambda^*,\alpha}) \\
%     & \quad + {\alpha_1} \biggl(\nabla_x g(x,y^*_{\lambda^*,\alpha}) + (\lambda^*)^\top \nabla_x h(x,y^*_{\lambda^*,\alpha}) - \nabla_x g(x,y'_{\lambda^*,\alpha}) - (\lambda^*')^\top \nabla_x h(x,y'_{\lambda^*,\alpha})  \biggl)\\
%     & \quad \quad + {\alpha_2} \biggl(\nabla_x h_{\mathcal{I}}(x,y^*_{\lambda^*,\alpha})^\top h_{\mathcal{I}}(x,y^*_{\lambda^*,\alpha}) - \nabla_x h_{\mathcal{I}}(x,y'_{\lambda^*',\alpha})^\top h_{\mathcal{I}}(x,y'_{\lambda^*',\alpha}) \biggl)
% \end{align}